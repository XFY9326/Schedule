---
title: '配置与注册课程导入信息'
---

## 概述

单独的配置文件与注册是Pure课程表实现课程适配器与解析器灵活组合的重要方式

## AbstractCourseImportConfig

AbstractCourseImportConfig类指定了需要使用的课程提供器与解析器，并添加了额外适配的信息  
只需要新建一个继承自AbstractCourseImportConfig的类，填写指定参数即可使用  
注：继承自AbstractCourseImportConfig的类**不能添加任何自定义的构造器**  

### 泛型

``` kotlin
// P1：课程提供器参数类型，没有就填Nothing
// T1：课程提供器类型
// P2：课程解析器参数类型，没有就填Nothing
// T2：课程解析器类型
AbstractCourseImportConfig<P1 : Serializable, T1 : AbstractCourseProvider<P1>, P2 : Serializable, T2 : AbstractCourseParser<P2>>
```

### 参数

``` kotlin
// 学校名称（安卓String资源引用，请在strings_adapter.xml中修改）
schoolNameResId: Int

// 适配作者名称（安卓String资源引用，请在strings_adapter.xml中修改）
authorNameResId: Int

// 教务系统名称（安卓String资源引用，请在strings_adapter.xml中修改）
systemNameResId: Int

// 静态的导入选项（安卓String-Array资源引用，请在arrays_adapter.xml中修改）
// 对于基于浏览器的课程导入模式无用
// 若有在线导入选项传入，则优先使用在线导入选项传入的值
staticImportOptionsResId: Int? = null

// 课程提供器KClass
providerClass: KClass<T1>

// 课程解析器KClass
parserClass: KClass<T2>

// 可选，课程提供器参数
providerParams: P1? = null

// 可选，课程解析器参数
parserParams: P2? = null

// 排序依据
// 在线课程导入列表将为依据此进行排序
// 请注意，此处字符串中应该全部为ASCII码支持的字符且不包含空格，大小写字母不会影响排序
// 国内院校可以使用拼音作为排序依据
sortingBasis: String
```

## @CourseImportConfig

Config的类必须注册后才能够被加入到‘课程导入’的列表中，若您不需要在‘课程导入’的列表中显示，可以不使用该注解  
注册方法很简单，即对继承的类加上@CourseImportConfig注解  
例如需要注册的Class为XXXXImportConfig，则：  

``` kotlin
@CourseImportConfig
class XXXXImportConfig : AbstractCourseImportConfig<Nothing, XXXCourseProvider, Nothing, XXXCourseParser>{
    // 其它代码 ...
}
```

注：若不希望该配置显示在‘课程导入’界面并仅将该配置用于[外部课程导入]({{< ref "外部课程导入" >}})，您可以不进行注册
